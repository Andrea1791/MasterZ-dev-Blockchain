<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>{{#each contracts}}{{name}}{{/each}}</title>
  <style>
    body { background-color: #1a2a3a; color: #c0c5ce; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 40px; }
    .container { max-width: 900px; margin: 0 auto; }
    h1, h2, h3, h4 { color: #56c8d8; border-bottom: 2px solid #2c3e50; padding-bottom: 10px; }
    h1 { font-size: 2.5em; }
    h2 { font-size: 2em; margin-top: 40px; }
    h3 { font-size: 1.5em; margin-top: 30px; }
    code.solidity { background-color: #2c3e50; color: #fafafa; display: block; padding: 15px; border-radius: 5px; font-family: 'Courier New', Courier, monospace; white-space: pre; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { padding: 12px 15px; border: 1px solid #2c3e50; text-align: left; }
    th { background-color: #253545; color: #56c8d8; }
    tr:nth-child(even) { background-color: #203040; }
    .description { margin-top: 5px; color: #9ab; }
  </style>
</head>
<body>
  <div class="container">
    {{#each contracts}}
      <h1>Contratto: <code>{{name}}</code></h1>

      {{#if stateVariables}}
        <h2>Variabili di Stato</h2>
        {{#each stateVariables}}
          <h3><code>{{name}}</code></h3>
          <code class="solidity">{{type}} {{name}}</code>
        {{/each}}
      {{/if}}

      {{#if functions}}
        <h2>Funzioni</h2>
        {{#each functions}}
          <h3><code>{{name}}</code></h3>
          <code class="solidity">function {{name}}({{#each inputs}}{{type}} {{name}}{{#unless @last}}, {{/unless}}{{/each}}) {{attributes}}</code>
          
          {{#if Natspec.notice}}
            <p class="description">{{Natspec.notice}}</p>
          {{/if}}

          {{#if inputs}}
            <h4>Parametri</h4>
            <table>
              <thead><tr><th>Nome</th><th>Tipo</th><th>Descrizione</th></tr></thead>
              <tbody>
                {{#each inputs}}
                <tr>
                  <td><code>{{name}}</code></td>
                  <td><code>{{type}}</code></td>
                  <td>{{#if (lookup ../Natspec.params name)}}{{(lookup ../Natspec.params name)}}{{/if}}</td>
                </tr>
                {{/each}}
              </tbody>
            </table>
          {{/if}}

          {{#if outputs}}
            <h4>Valori di Ritorno</h4>
            <table>
              <thead><tr><th>Nome</th><th>Tipo</th><th>Descrizione</th></tr></thead>
              <tbody>
                {{#each outputs}}
                <tr>
                  <td><code>{{#if name}}{{name}}{{else}}[{{@index}}]{{/if}}</code></td>
                  <td><code>{{type}}</code></td>
                  <td>{{#if (lookup ../Natspec.returns (or name (concat '[' @index ']')))}}{{(lookup ../Natspec.returns (or name (concat '[' @index ']')))}}{{/if}}</td>
                </tr>
                {{/each}}
              </tbody>
            </table>
          {{/if}}
        {{/each}}
      {{/if}}
    {{/each}}
    <p style="text-align: center; margin-top: 50px; color: #4a5a6a;">End of document</p>
  </div>
</body>
</html>